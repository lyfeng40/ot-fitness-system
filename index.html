<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OT Supervisor Management Console</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .view { min-height: 70vh; }
        
        @media print {
            body * { visibility: hidden; }
            #report-content, #report-content * { 
                visibility: visible !important; 
                position: absolute; 
                left: 0; 
                top: 0; 
                width: 100%; 
            }
            .break-before-page { page-break-before: always; margin-top: 1cm; }
        }
        
        .chart-placeholder {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border: 2px dashed #cbd5e1;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #64748b;
            font-size: 1.25rem;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 to-slate-50 min-h-screen p-4 md:p-8">
    
    <!-- Header -->
    <header class="bg-white rounded-2xl shadow-lg p-6 mb-8 border border-slate-200">
        <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4">
            <div>
                <h1 class="text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2">
                    OT Supervisor Dashboard
                </h1>
                <p class="text-slate-500 font-medium">è·èƒ½æ²»ç™‚ç£å°ç®¡ç†ç³»çµ±</p>
            </div>
            <nav class="flex bg-slate-100 p-2 rounded-xl space-x-2 w-full lg:w-auto">
                <button onclick="showView('dashboard')" 
                        class="px-6 py-3 rounded-xl font-bold text-indigo-600 bg-white shadow-lg">
                    å„€è¡¨æ¿
                </button>
                <button onclick="showView('individual')" 
                        class="px-6 py-3 rounded-xl font-bold text-slate-600 hover:text-indigo-600 bg-slate-50">
                    å€‹æ¡ˆå ±å‘Š
                </button>
                <button onclick="showView('entry')" 
                        class="px-6 py-3 rounded-xl font-bold text-slate-600 hover:text-indigo-600 bg-slate-50">
                    è³‡æ–™è¼¸å…¥
                </button>
            </nav>
        </div>
    </header>

    <!-- Dashboard View -->
    <div id="dashboard" class="view">
        <div class="space-y-6">
            <!-- Date Filter -->
            <div class="bg-white p-6 rounded-2xl shadow-lg border flex items-center gap-4">
                <svg class="w-5 h-5 text-slate-500" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                </svg>
                <span class="text-sm font-bold text-slate-500">ç¯©é¸æ—¥æœŸ</span>
                <div class="flex flex-wrap gap-2 flex-1">
                    <button class="px-4 py-2 bg-indigo-600 text-white rounded-full text-xs font-medium shadow-lg">2023-01-15</button>
                    <button class="px-4 py-2 bg-slate-100 text-slate-600 rounded-full text-xs font-medium hover:bg-slate-200">2024-06-10</button>
                    <button class="px-4 py-2 bg-slate-100 text-slate-600 rounded-full text-xs font-medium hover:bg-slate-200">2024-06-12</button>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-8 rounded-3xl shadow-xl border border-slate-100 hover:shadow-2xl transition-all">
                    <div class="flex items-center gap-4">
                        <div class="bg-indigo-100 p-4 rounded-2xl text-indigo-600">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M1 4.75A2.75 2.75 0 013.75 2h12.5a2.75 2.75 0 012.75 2.75v12.5A2.75 2.75 0 0116.25 20H3.75A2.75 2.75 0 011 17.25V4.75zM3.75 3.5a.25.25 0 00-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 00.25-.25V4.75a.25.25 0 00-.25-.25H3.75z" clip-rule="evenodd"/>
                                <path d="M7 6a1 1 0 100 2h6a1 1 0 100-2H7zM7 10a1 1 0 100 2h6a1 1 0 100-2H7z"/>
                            </svg>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase tracking-wide">ç¸½äººæ•¸</p>
                            <h3 class="text-3xl font-black text-slate-700 mt-1">2</h3>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-8 rounded-3xl shadow-xl border border-slate-100 hover:shadow-2xl transition-all">
                    <div class="flex items-center gap-4">
                        <div class="bg-blue-100 p-4 rounded-2xl text-blue-600">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase tracking-wide">æ€§åˆ¥åˆ†å¸ƒ</p>
                            <h3 class="text-3xl font-black text-slate-700 mt-1">1â™‚ 1â™€</h3>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-8 rounded-3xl shadow-xl border border-slate-100 hover:shadow-2xl transition-all">
                    <div class="flex items-center gap-4">
                        <div class="bg-emerald-100 p-4 rounded-2xl text-emerald-600">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase tracking-wide">å¹³å‡å¹´é½¡</p>
                            <h3 class="text-3xl font-black text-slate-700 mt-1">37.5æ­²</h3>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Alert Cards -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="bg-white p-8 rounded-3xl border-l-8 border-indigo-500 shadow-xl text-center hover:shadow-2xl">
                    <p class="text-slate-500 text-sm font-bold uppercase tracking-wide mb-2">BMI â‰¥ 27</p>
                    <h3 class="text-4xl font-black text-indigo-900">0/2</h3>
                </div>
                <div class="bg-white p-8 rounded-3xl border-l-8 border-red-500 shadow-xl text-center hover:shadow-2xl">
                    <p class="text-slate-500 text-sm font-bold uppercase tracking-wide mb-2">VF â‰¥ 10</p>
                    <h3 class="text-4xl font-black text-red-600">1/2</h3>
                </div>
                <div class="bg-white p-8 rounded-3xl border-l-8 border-amber-500 shadow-xl text-center hover:shadow-2xl">
                    <p class="text-slate-500 text-sm font-bold uppercase tracking-wide mb-2">SMM &lt; 30</p>
                    <h3 class="text-4xl font-black text-amber-600">1/2</h3>
                </div>
                <div class="bg-white p-8 rounded-3xl border-l-8 border-rose-500 shadow-xl text-center hover:shadow-2xl">
                    <p class="text-slate-500 text-sm font-bold uppercase tracking-wide mb-2">SMI ç•°å¸¸</p>
                    <h3 class="text-4xl font-black text-rose-600">0/2</h3>
                </div>
            </div>

            <!-- Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="lg:col-span-1 bg-white p-8 rounded-3xl shadow-2xl border">
                    <h3 class="font-bold text-slate-700 text-2xl mb-6 flex items-center gap-2">
                        ğŸ“Š èº«é«”çµ„æˆè¶¨å‹¢
                    </h3>
                    <select class="mb-6 w-full p-3 bg-slate-50 rounded-2xl text-lg border-2 border-slate-200 focus:border-indigo-500">
                        <option>é«”é‡ (kg)</option>
                        <option>é«”è„‚ç‡</option>
                        <option>éª¨éª¼è‚Œé‡</option>
                        <option>å…§è‡Ÿè„‚è‚ª</option>
                        <option>BMI</option>
                    </select>
                    <div class="h-80 chart-placeholder">
                        ğŸ“ˆ è¶¨å‹¢åœ–è¡¨å€åŸŸ
                    </div>
                </div>
                <div class="lg:col-span-1 bg-white p-8 rounded-3xl shadow-2xl border">
                    <h3 class="font-bold text-slate-700 text-2xl mb-6 flex items-center gap-2">
                        âš¡ åŠŸèƒ½è¡¨ç¾è¶¨å‹¢
                    </h3>
                    <select class="mb-6 w-full p-3 bg-slate-50 rounded-2xl text-lg border-2 border-slate-200 focus:border-emerald-500">
                        <option>6åˆ†é˜æ­¥è¡Œ</option>
                        <option>ä»°è‡¥èµ·å</option>
                        <option>åå§¿å‰å±ˆ</option>
                        <option>åç«™30ç§’</option>
                    </select>
                    <div class="h-80 chart-placeholder">
                        âš¡ è¶¨å‹¢åœ–è¡¨å€åŸŸ
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Individual Report View -->
    <div id="individual" class="view hidden">
        <div class="bg-white p-8 rounded-3xl shadow-2xl border max-w-4xl mx-auto">
            <div class="flex justify-between items-start mb-8">
                <div>
                    <h2 class="text-4xl font-black bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent mb-2">
                        ç‹å¤§æ˜ å€‹æ¡ˆå ±å‘Š
                    </h2>
                    <p class="text-xl text-slate-500">39æ­² ç”· (2024-06-10)</p>
                </div>
                <button onclick="window.print()" 
                        class="bg-indigo-600 text-white px-8 py-4 rounded-2xl font-bold shadow-lg hover:bg-indigo-700 flex items-center gap-3">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V6a1 1 0 112 0v4.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                    PDF åˆ—å°
                </button>
            </div>

            <!-- Body Composition -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold text-indigo-600 mb-8 border-b pb-4 flex items-center gap-3">
                    ğŸ‘¤ 1. èº«é«”çµ„æˆè©•ä¼°
                </h3>
                <div class="grid grid-cols-2 lg:grid-cols-5 gap-6">
                    <div class="p-6 rounded-3xl bg-slate-50 border relative flex flex-col justify-between h-32 group hover:bg-indigo-50">
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase mb-2">BMI</p>
                            <p class="text-3xl font-black text-indigo-900">24.5</p>
                        </div>
                        <div class="flex justify-between items-baseline border-t border-slate-200 pt-3 mt-auto">
                            <span class="text-xl font-black text-red-600">åé«˜</span>
                            <span class="text-xs text-slate-400 font-bold">18.5-24</span>
                        </div>
                    </div>
                    <div class="p-6 rounded-3xl bg-slate-50 border relative flex flex-col justify-between h-32 group hover:bg-indigo-50">
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase mb-2">é«”é‡</p>
                            <p class="text-3xl font-black text-blue-600">75kg</p>
                        </div>
                        <div class="flex justify-between items-baseline border-t border-slate-200 pt-3 mt-auto">
                            <span class="text-xl font-black text-blue-600"></span>
                            <span class="text-xs text-slate-400 font-bold">65-80kg</span>
                        </div>
                    </div>
                    <div class="p-6 rounded-3xl bg-slate-50 border relative flex flex-col justify-between h-32 group hover:bg-indigo-50">
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase mb-2">é«”è„‚ç‡</p>
                            <p class="text-3xl font-black text-blue-600">21</p>
                        </div>
                        <div class="flex justify-between items-baseline border-t border-slate-200 pt-3 mt-auto">
                            <span class="text-xl font-black text-blue-600">æ­£å¸¸</span>
                            <span class="text-xs text-slate-400 font-bold">20</span>
                        </div>
                    </div>
                    <!-- More cards... -->
                </div>
            </div>

            <!-- Performance Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <div class="bg-slate-50 p-8 rounded-3xl border">
                    <p class="text-xs font-bold text-slate-500 mb-4">1. é«”è„‚ç‡ & éª¨éª¼è‚Œé‡</p>
                    <div class="h-64 chart-placeholder">ğŸ“Š è¶¨å‹¢åœ–è¡¨</div>
                </div>
                <div class="bg-slate-50 p-8 rounded-3xl border">
                    <p class="text-xs font-bold text-slate-500 mb-4">2. 6MWD</p>
                    <div class="h-64 chart-placeholder">ğŸ“ˆ è¶¨å‹¢åœ–è¡¨</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Entry View -->
    <div id="entry" class="view hidden max-w-3xl mx-auto space-y-6">
        <div class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-12 rounded-3xl shadow-2xl text-center">
            <h2 class="text-4xl font-black mb-4">â• Google Sheets å¿«é€Ÿè¼¸å…¥</h2>
            <p class="opacity-90 text-xl">å°‡è©•ä¼°è³‡æ–™å¿«é€Ÿå­˜å…¥ç³»çµ±</p>
        </div>

        <!-- Basic Info -->
        <div class="bg-white p-8 rounded-3xl shadow-lg border">
            <h3 class="text-2xl font-bold text-slate-700 mb-8 flex items-center gap-3 border-b pb-6">
                ğŸ“‹ 1. åŸºæœ¬è³‡æ–™
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-bold text-slate-500 mb-2">åºŠè™Ÿ</label>
                    <input type="text" id="bed" class="w-full p-4 border border-slate-200 rounded-2xl focus:ring-4 ring-indigo-100 focus:border-indigo-500 text-lg" placeholder="A01">
                </div>
                <div>
                    <label class="block text-sm font-bold text-slate-500 mb-2">å§“å</label>
                    <input type="text" id="name" class="w-full p-4 border border-slate-200 rounded-2xl focus:ring-4 ring-indigo-100 focus:border-indigo-500 text-lg" placeholder="ç‹å¤§æ˜">
                </div>
                <div>
                    <label class="block text-sm font-bold text-slate-500 mb-2">ç”Ÿæ—¥</label>
                    <input type="date" id="birthday" class="w-full p-4 border border-slate-200 rounded-2xl focus:ring-4 ring-indigo-100 focus:border-indigo-500 text-lg">
                </div>
                <div>
                    <label class="block text-sm font-bold text-slate-500 mb-2">æ€§åˆ¥</label>
                    <select id="gender" class="w-full p-4 border border-slate-200 rounded-2xl focus:ring-4 ring-indigo-100 focus:border-indigo-500 text-lg">
                        <option>è«‹é¸æ“‡</option>
                        <option>ç”·</option>
                        <option>å¥³</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Body Composition -->
        <div class="bg-white p-8 rounded-3xl shadow-lg border">
            <h3 class="text-2xl font-bold text-slate-700 mb-8 flex items-center gap-3 border-b pb-6">
                ğŸ’ª 2. èº«é«”çµ„æˆ Key-in
            </h3>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
                <div><label class="block text-xs text-slate-500 mb-1">èº«é«˜ cm</label><input type="number" id="height" class="w-full p-4 border rounded-2xl text-lg" placeholder="175"></div>
                <div><label class="block text-xs text-slate-500 mb-1">é«”é‡ kg</label><input type="number" id="weight" class="w-full p-4 border rounded-2xl text-lg" placeholder="75"></div>
                <div><label class="block text-xs text-slate-500 mb-1">é«”è„‚ç‡ %</label><input type="number" id="bodyFat" class="w-full p-4 border rounded-2xl text-lg" placeholder="21"></div>
                <div><label class="block text-xs text-slate-500 mb-1">éª¨éª¼è‚Œé‡ %</label><input type="number" id="sMM" class="w-full p-4 border rounded-2xl text-lg" placeholder="33"></div>
                <div><label class="block text-xs text-slate-500 mb-1">å…§è‡Ÿè„‚è‚ª</label><input type="number" id="visceralFat" class="w-full p-4 border rounded-2xl text-lg" placeholder="9"></div>
            </div>
        </div>

        <!-- Performance Tests -->
        <div class="bg-white p-8 rounded-3xl shadow-lg border">
            <h3 class="text-2xl font-bold text-slate-700 mb-8 flex items-center gap-3 border-b pb-6">
                ğŸƒ 3. åŠŸèƒ½æ¸¬é©— Key-in
            </h3>
            <div class="grid grid-cols-2 gap-6">
                <div><label class="block text-xs text-slate-500 mb-1">ä»°è‡¥èµ·å</label><input type="number" id="situps" class="w-full p-4 border rounded-2xl text-lg" placeholder="18"></div>
                <div><label class="block text-xs text-slate-500 mb-1">6MWD m</label><input type="number" id="walk6m" class="w-full p-4 border rounded-2xl text-lg" placeholder="450"></div>
                <div><label class="block text-xs text-slate-500 mb-1">åç«™30ç§’</label><input type="number" id="sitStand" class="w-full p-4 border rounded-2xl text-lg" placeholder="18"></div>
                <div><label class="block text-xs text-slate-500 mb-1">åå§¿å‰å±ˆ cm</label><input type="number" id="sitReach" class="w-full p-4 border rounded-2xl text-lg" placeholder="12"></div>
            </div>
        </div>

        <button onclick="generateCSV()" 
                class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-8 rounded-3xl font-black text-2xl shadow-2xl hover:scale-105 transition-all duration-300">
            ğŸ“¤ ç”¢ç”ŸCSV åŒ¯å…¥Google Sheets
        </button>
    </div>

    <script>
        function showView(viewName) {
            document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));
            document.getElementById(viewName).classList.remove('hidden');
        }

        function generateCSV() {
            const data = {
                id: document.getElementById('bed').value.slice(0,3) || '001',
                bed: document.getElementById('bed').value || '',
                name: document.getElementById('name').value || '',
                gender: document.getElementById('gender').value || '',
                birthday: document.getElementById('birthday').value || '',
                date: new Date().toISOString().split('T')[0],
                weight: document.getElementById('weight').value || '',
                height: document.getElementById('height').value || '',
                bodyFat: document.getElementById('bodyFat').value || '',
                sMM: document.getElementById('sMM').value || '',
                visceralFat: document.getElementById('visceralFat').value || '',
                sitStand: document.getElementById('sitStand').value || '',
                walk6m: document.getElementById('walk6m').value || '',
                sitReach: document.getElementById('sitReach').value || '',
                situps: document.getElementById('situps').value || '',
                waist: '88',
                hip: '90',
                bmr: '1720',
                bodyAge: '38'
            };
            
            const csv = Object.values(data).join(',');
            navigator.clipboard.writeText(csv).then(() => {
                alert('âœ… CSVè³‡æ–™å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼\nè«‹è²¼åˆ°Google Sheetsç¬¬2åˆ—');
                showView('dashboard');
            });
        }

        // Initialize
        showView('dashboard');
    </script>
</body>
</html>
